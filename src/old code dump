//    public JFrame userSignIn() {
//        JFrame signIn = new JFrame("User SignIn Page");
//
//        JPanel signInPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
//
//        JLabel userNameLabel = new JLabel("Enter a username: ");
//        JTextField userNameField = new JTextField(20);
//
//        JLabel passwordLabel1 = new JLabel("Enter a password: ");
//        JPasswordField passwordField1 = new JPasswordField(20);
//
//        JLabel passwordLabel2 = new JLabel("Enter password again: ");
//        JPasswordField passwordField2 = new JPasswordField(20);
//
//        JButton signInButton = new JButton("Sign In");
//        signInButton.addActionListener(e -> {
//            // Get the text content from the fields
//            String inputUsername = userNameField.getText();
//            String inputPassword1 = new String(passwordField1.getPassword());
//            String inputPassword2 = new String(passwordField2.getPassword());
//
//            // Check if fields are not empty
//            if (!inputUsername.equals("") && !inputPassword1.equals("") && !inputPassword2.equals("")) {
//                boolean fieldEmpty = true;
//                if (inputPassword1.equals(inputPassword2)) {
//                    if (User.getUsers() != null) {
//                        userRegistration(inputUsername, inputPassword1, inputPassword2, fieldEmpty);
//                    } else {
//                        User user = new User(null, "admin", "admin");
//                        userRegistration(inputUsername, inputPassword1, inputPassword2, fieldEmpty);
//                    }
//                }else {
//                    JOptionPane.showMessageDialog(null, "Passwords doesn't match. Please try again.");
//                    passwordField1.setText("");
//                    passwordField2.setText("");
//                }
//            } else {
//                JOptionPane.showMessageDialog(signIn, "Fields can't be empty !");
//            }
//        });
//
//        signInPanel.add(userNameLabel);
//        signInPanel.add(userNameField);
//        signInPanel.add(passwordLabel1);
//        signInPanel.add(passwordField1);
//        signInPanel.add(passwordLabel2);
//        signInPanel.add(passwordField2);
//        signInPanel.add(signInButton);
//
//        signIn.add(signInPanel);
//        signIn.setSize(300, 250);
//        signIn.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
//
//        return signIn;
//    }

//    public void userRegistration(String inputUsername, String inputPassword1, String inputPassword2, boolean fieldEmpty){
//        for (User user : User.getUsers()) {
//            // Correct comparison with inputUsername
//            if (inputUsername.equals(user.getUsername())) {
//                JOptionPane.showMessageDialog(signIn, "Username already exists !");
//                fieldEmpty = false;
//                break;
//            }
//        }
//
//        if (fieldEmpty) {
//            User user = new User(null, inputUsername, inputPassword1);
//            User.setUsers(user);
//            User.saveUsers();
//            JOptionPane.showMessageDialog(signIn, "You're registered. Welcome !");
//            productSelectInterface(user).setVisible(true);
//            signIn.setVisible(false);
//        }
//    }
//
//    public User userValidation(String Username, String Password){
//        boolean validated = false;
//        for (User user : User.getUsers()){
//            if (Username.equals(user.getUsername()) && Password.equals(user.getPassword())){
//                validated = true;
//                return user;
//            }
//        }
//        return null;
//    }

public JFrame userLogin() {
        User.loadUsers();
        JFrame login = new JFrame("User Login Page");

        JPanel loginPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));

        JLabel userNameLabel = new JLabel("Username: ");
        JTextField userNameField = new JTextField(20);

        JLabel passwordLabel = new JLabel("Password: ");
        JPasswordField passwordField = new JPasswordField(20);

        JButton loginButton = new JButton("Login");
        loginButton.addActionListener(e -> {
            String username = userNameField.getText();
            String password = new String(passwordField.getPassword());

            User validatedUser = userValidation(username, password);

            if (validatedUser != null) {
                productSelectInterface(validatedUser).setVisible(true);
                login.setVisible(false);
            } else {
                JOptionPane.showMessageDialog(null, "Invalid username or password. Please try again.");
                userNameField.setText("");
                passwordField.setText("");
            }
        });

        JButton signupButton = new JButton("Signup");
        signupButton.addActionListener(e -> {
            signIn.setVisible(true);
            login.setVisible(false);
        });

        loginPanel.add(userNameLabel);
        loginPanel.add(userNameField);
        loginPanel.add(passwordLabel);
        loginPanel.add(passwordField);
        loginPanel.add(loginButton);
        loginPanel.add(signupButton);

        login.add(loginPanel);
        return login;
    }